{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst elements = {\n  form: document.querySelector('.feedback-form'),\n  emailInput: document.querySelector('[name=\"email\"]'),\n  messageInput: document.querySelector('[name=\"message\"]'),\n};\n\nconst FORM_KEY = 'feedback-form-state';\nconst THROTTLE_INTERVAL = 500;\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nfunction updateLocalStorage() {\n  try {\n    localStorage.setItem(FORM_KEY, JSON.stringify(formData));\n  } catch (error) {\n    console.error(`Failed to save data to localStorage: ${error.message}`);\n  }\n}\n\nfunction loadFormData() {\n  try {\n    const savedData = localStorage.getItem(FORM_KEY);\n    if (savedData) {\n      formData = JSON.parse(savedData);\n      elements.emailInput.value = formData.email || '';\n      elements.messageInput.value = formData.message || '';\n    }\n  } catch (error) {\n    console.error(`Failed to load data from localStorage: ${error.message}`);\n  }\n}\n\nfunction handleInput(event) {\n  formData[event.target.name] = event.target.value;\n  updateLocalStorage();\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  if (!elements.emailInput.value || !elements.messageInput.value) {\n    console.error('All form fields must be filled out');\n    return;\n  }\n\n  console.log('Submitted form data:', formData);\n\n  formData.email = '';\n  formData.message = '';\n\n  elements.form.reset();\n\n  try {\n    localStorage.removeItem(FORM_KEY);\n  } catch (error) {\n    console.error(`Failed to remove data from localStorage: ${error.message}`);\n  }\n}\n\nelements.form.addEventListener('input', throttle(handleInput, THROTTLE_INTERVAL));\nelements.form.addEventListener('submit', handleSubmit);\n\nloadFormData();\n"],"names":["elements","FORM_KEY","THROTTLE_INTERVAL","formData","updateLocalStorage","error","loadFormData","savedData","handleInput","event","handleSubmit","throttle"],"mappings":"wIAEA,MAAMA,EAAW,CACf,KAAM,SAAS,cAAc,gBAAgB,EAC7C,WAAY,SAAS,cAAc,gBAAgB,EACnD,aAAc,SAAS,cAAc,kBAAkB,CACzD,EAEMC,EAAW,sBACXC,EAAoB,IAE1B,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,SAASC,GAAqB,CAC5B,GAAI,CACF,aAAa,QAAQH,EAAU,KAAK,UAAUE,CAAQ,CAAC,CACxD,OAAQE,EAAO,CACd,QAAQ,MAAM,wCAAwCA,EAAM,OAAO,EAAE,CACtE,CACH,CAEA,SAASC,GAAe,CACtB,GAAI,CACF,MAAMC,EAAY,aAAa,QAAQN,CAAQ,EAC3CM,IACFJ,EAAW,KAAK,MAAMI,CAAS,EAC/BP,EAAS,WAAW,MAAQG,EAAS,OAAS,GAC9CH,EAAS,aAAa,MAAQG,EAAS,SAAW,GAErD,OAAQE,EAAO,CACd,QAAQ,MAAM,0CAA0CA,EAAM,OAAO,EAAE,CACxE,CACH,CAEA,SAASG,EAAYC,EAAO,CAC1BN,EAASM,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAC3CL,GACF,CAEA,SAASM,EAAaD,EAAO,CAG3B,GAFAA,EAAM,eAAc,EAEhB,CAACT,EAAS,WAAW,OAAS,CAACA,EAAS,aAAa,MAAO,CAC9D,QAAQ,MAAM,oCAAoC,EAClD,MACD,CAED,QAAQ,IAAI,uBAAwBG,CAAQ,EAE5CA,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEnBH,EAAS,KAAK,QAEd,GAAI,CACF,aAAa,WAAWC,CAAQ,CACjC,OAAQI,EAAO,CACd,QAAQ,MAAM,4CAA4CA,EAAM,OAAO,EAAE,CAC1E,CACH,CAEAL,EAAS,KAAK,iBAAiB,QAASW,EAASH,EAAaN,CAAiB,CAAC,EAChFF,EAAS,KAAK,iBAAiB,SAAUU,CAAY,EAErDJ,EAAc"}